<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Khronos Texture Tools: ktxsc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ktx_document_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Khronos Texture Tools
   &#160;<span id="projectnumber">4.0.0</span>
   </div>
   <div id="projectbrief">Libraries and tools to create and read KTX image texture files.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ktxsc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ktxsc </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Supercompress the images in a KTX2 file.</p>
<h1><a class="anchor" id="ktxsc_synopsis"></a>
SYNOPSIS</h1>
<p>ktxsc [options] [<em>infile</em> ...]</p>
<h1><a class="anchor" id="ktxsc_description"></a>
DESCRIPTION</h1>
<p><b>ktxsc</b> can encode and supercompresses the images in Khronos texture format version 2 files (KTX2) . Uncompressed files, i.e those whose vkFormat name does not end in <code>_BLOCK</code> can be encoded to Basis Universal (encoded to ETC1S then supercompressed with an integrated LZ step), encoded to UASTC or supercompressed with Zstandard (zstd). Any image format, except Basis Universal, can be supercompressed with zstd. For best results with UASTC, the data should be conditioned for zstd by using the <em>&ndash;uastc_rdo_q</em> and, optionally, <em>&ndash;uastc_rdo_d</em> options.</p>
<p><b>ktxsc</b> reads each named <em>infile</em> and compresses it in place. When <em>infile</em> is not specified, a single file will be read from <em>stdin</em>. and the output written to <em>stdout</em>. When one or more files is specified each will be compressed in place.</p>
<p>The following options are available: </p><dl>
<dt>-o outfile, &ndash;output=outfile </dt>
<dd>Write the output to <em>outfile</em>. If <em>outfile</em> is 'stdout', output will be written to stdout. If there is more than 1 <em>infile</em> the command prints its usage message and exits. </dd>
<dt>-f, &ndash;force </dt>
<dd>If the destination file cannot be opened, remove it and create a new file, without prompting for confirmation regardless of its permissions. </dd>
<dt>&ndash;t2 </dt>
<dd>Output a KTX version2 file. Always true. </dd>
</dl>
<p><dl>
<dt>--bcmp </dt>
<dd>Supercompress the image data with Basis Universal. Implies <b>--t2</b>. RED images will become RGB with RED in each component. RG images will have R in the RGB part and G in the alpha part of the compressed texture. When set, the following Basis-related options become valid otherwise they are ignored. <dl>
<dt>--no_multithreading </dt>
<dd>Disable multithreading. Deprecated. For backward compatibility only. Use <b>--threads</b> 1 instead. </dd>
<dt>--threads &lt;count&gt; </dt>
<dd>Explicitly set the number of threads to use during compression. By default Basis compression will use the numnber of threads reported by <code>thread::hardware_concurrency</code> or 1 if value returned is 0. </dd>
<dt>--clevel &lt;level&gt; </dt>
<dd>Basis compression level, an encoding speed vs. quality tradeoff. Range is 0 - 5, default is 1. Higher values are slower, but give higher quality. </dd>
<dt>--qlevel &lt;level&gt; </dt>
<dd><p class="startdd">Basis quality level. Range is 1 - 255. Lower gives better compression/lower quality/faster. Higher gives less compression /higher quality/slower. <b>--qlevel</b> automatically determines values for <b>--max_endpoints</b>, <b>--max-selectors</b>, <b>--endpoint_rdo_threshold</b> and <b>--selector_rdo_threshold</b> for the target quality level. Setting these options overrides the values determined by <b>--qlevel</b> which defaults to 128 if neither it nor both of <b>--max_endpoints</b> and <b>--max_selectors</b> have been set.</p>
<dl class="section note"><dt>Note</dt><dd>Both of <b>--max_endpoints</b> and <b>--max_selectors</b> must be set for them to have any effect. If all three options are set, a warning will be issued that <b>--qlevel</b> will be ignored. </dd>
<dd>
<b>--qlevel</b> will only determine values for <b>--endpoint_rdo_threshold</b> and <b>--selector_rdo_threshold</b> when its value exceeds 128, otherwise their defaults will be used. </dd></dl>
</dd>
<dt>--max_endpoints &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color endpoint clusters from 1-16128. Default is 0, unset. If this is set, <b>--max_selectors</b> must also be set, otherwise the value will be ignored. </dd>
<dt>--endpoint_rdo_threshold &lt;arg&gt; </dt>
<dd>Set endpoint RDO quality threshold. The default is 1.25. Lower is higher quality but less quality per output bit (try 1.0-3.0). This will override the value chosen by <code>--qual</code>. </dd>
<dt>--max_selectors &lt;arg&gt; </dt>
<dd>Manually set the maximum number of color selector clusters from 1-16128. Default is 0, unset. If this is set, <b>--max_selectors</b> must also be set, otherwise the value will be ignored. </dd>
<dt>--selector_rdo_threshold &lt;arg&gt; </dt>
<dd>Set selector RDO quality threshold. The default is 1.5. Lower is higher quality but less quality per output bit (try 1.0-3.0). This will override the value chosen by <code>--qual</code>. </dd>
<dt>--normal_map </dt>
<dd>Tunes codec parameters for better quality on normal maps (no selector RDO, no endpoint RDO). Only valid for linear textures. </dd>
<dt>--separate_rg_to_color_alpha </dt>
<dd>Separates the input R and G channels to RGB and A (for tangent space XY normal maps). Only needed with 3 or 4 component input images. </dd>
<dt>--no_endpoint_rdo </dt>
<dd>Disable endpoint rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do endpoint RDO. </dd>
<dt>--no_selector_rdo </dt>
<dd>Disable selector rate distortion optimizations. Slightly faster, less noisy output, but lower quality per output bit. Default is to do selector RDO. </dd>
</dl>
</dd>
<dt>--uastc [&lt;level&gt;] </dt>
<dd><p class="startdd">Create a texture in high-quality transcodable UASTC format. Implies <b>--t2</b>. The optional parameter <em>level</em> selects a speed vs quality tradeoff as shown in the following table:</p>
<table class="doxtable">
<tr>
<th>Level </th><th>Speed </th><th>Quality </th></tr>
<tr>
<td>0 </td><td>Fastest </td><td>43.45dB </td></tr>
<tr>
<td>1 </td><td>Faster </td><td>46.49dB </td></tr>
<tr>
<td>2 </td><td>Default </td><td>47.47dB </td></tr>
<tr>
<td>3 </td><td>Slower </td><td>48.01dB </td></tr>
<tr>
<td>4 </td><td>Very slow </td><td>48.24dB </td></tr>
</table>
<p class="enddd">When set the following options become available for controlling the optional Rate Distortion Optimization (RDO) post-process stage that conditions the encoded UASTC texture data so it can be more effectively LZ compressed: </p><dl>
<dt>--uastc_rdo_q [&lt;quality&gt;] </dt>
<dd>Enable UASTC RDO post-processing and optionally set UASTC RDO quality scalar to <em>quality</em>. Lower values yield higher quality/larger LZ compressed files, higher values yield lower quality/smaller LZ compressed files. A good range to try is [.2-4]." Full range is .001 to 10.0. Default is 1.0. </dd>
<dt>--uastc_rdo_d &lt;dictsize&gt; </dt>
<dd>Set UASTC RDO dictionary size in bytes. Default is 32768. Lower values=faster, but give less compression. Possible range is 256 to 65536. </dd>
</dl>
</dd>
<dt>--zcmp [&lt;compressionLevel&gt;] </dt>
<dd>Supercompress the data with Zstandard. Implies <b>--t2</b>. Can be used with data in any format except Basis Universal (<b>--bcmp</b>). Most effective with RDO-conditioned UASTC or uncompressed formats. The optional <em>compressionLevel</em> range is 1 - 22 and the default is 3. Lower values=faster but give less compression. Values above 20 should be used with caution as they require more memory. </dd>
</dl>
<p><dl>
<dt>--help </dt>
<dd>Print this usage message and exit. </dd>
<dt>--version </dt>
<dd>Print the version number of this program and exit. </dd>
</dl>
 In case of ambiguity, such as when the last option is one with an optional parameter, separate options from file names with " -- ".Any specified Basis Universal and supercompression options are recorded in the custom metadata item <code>KHRtoktxScParams</code> in the output file.  </p>
<h1><a class="anchor" id="ktxsc_exitstatus"></a>
EXIT STATUS</h1>
<p><b>toktx</b> exits 0 on success, 1 on command line errors and 2 on functional errors.</p>
<h1><a class="anchor" id="ktxsc_history"></a>
HISTORY</h1>
<dl class="section user"><dt>Version 4.0</dt><dd><ul>
<li>Initial version.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="ktxsc_author"></a>
AUTHOR</h1>
<p>Mark Callow, Edgewise Consulting www.edgewise-consulting.com </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 7 2020 23:13:04 for Khronos Texture Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
